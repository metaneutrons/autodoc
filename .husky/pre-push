#!/bin/sh

echo "🧪 Running tests before push..."

# Run all tests single-threaded to avoid race conditions
if ! cargo test --bin autodoc -- --test-threads=1; then
    echo "❌ Tests failed. Fix failing tests before pushing."
    exit 1
fi

echo "✅ All tests passed"
echo "🚀 Ready to push"
